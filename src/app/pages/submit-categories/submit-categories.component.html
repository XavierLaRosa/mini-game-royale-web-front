<div class="bg-purple-600 h-screen text-white flex flex-col justify-between items-center">
    <nav class="bg-purple-500 p-3 w-full flex flex-row justify-center items-center">
        <p class="text-lg">MGR - Submit Categories</p>
    </nav>
    <div class="w-full flex flex-col justify-start items-center h-full">
        <p class="bg-purple-500 p-2 flex flex-col justify-around items-center w-10/12 rounded-lg shadow my-2 text-2xl text-center">
            Submit to DB
        </p>

        <div class="w-full flex flex-col justify-center items-center" *ngIf="!keySubmitted">
            <div class="bg-purple-400 w-10/12 rounded-tr-lg rounded-bl-lg shadow my-2 flex flex-col justify-start items-center">
                <p class="text-lg font-bold w-full text-left px-2">
                    Submit your Key
                </p>
                <input type="text" name="keyEntry" [(ngModel)]="keyEntry" class="w-full rounded-lg px-2 py-1 text-black" placeholder="key entry">
            </div>
            <button (click)="submitKey()" class="bg-purple-400 p-3 text-lg text-center rounded-lg">
                Submit Key
            </button>
        </div>

        <div class="w-full flex flex-col justify-center items-center"  *ngIf="keySubmitted">
            <div class="bg-purple-500 overflow-y-scroll w-10/12 rounded-tr-lg rounded-bl-lg shadow my-2 flex flex-col justify-start items-center">
                <p class="text-lg font-bold w-full text-left px-2">
                    Choose Type of Submission
                </p>
                <select class="text-black p-1 w-full" [(ngModel)]="selectedType" (ngModelChange)="updateType()">
                    <option [ngValue]="'new'">
                        new category
                    </option>
                    <option [ngValue]="'add'">
                        add to existing category
                    </option>
                </select>
            </div>
    
            <div *ngIf="selectedType=='new'" class="w-full flex flex-col justify-center items-center">
                <div class="bg-purple-400 w-10/12 rounded-tr-lg rounded-bl-lg shadow my-2 flex flex-col justify-start items-center">
                    <p class="text-lg font-bold w-full text-left px-2">
                        Submit a Category
                    </p>
                    <input type="text" name="catEntry" [(ngModel)]="catEntry" class="w-full rounded-lg px-2 py-1 text-black" placeholder="category entry">
                </div>
    
                <button (click)="addCategory()" class="bg-purple-400 p-3 text-lg text-center rounded-lg">
                    Submit
                </button>
            </div>
            
            <div *ngIf="selectedType=='add'" class="w-full flex flex-col justify-center items-center">
                <div class="bg-purple-400 overflow-y-scroll w-10/12 rounded-tr-lg rounded-bl-lg shadow my-2 flex flex-col justify-start items-center">
                    <p class="text-lg font-bold w-full text-left px-2">
                        Choose Category Genre
                    </p>
                    <select class="text-black p-1 w-full" [(ngModel)]="selectedGenre" (ngModelChange)="updateGenre()">
                        <option *ngFor="let category of categories" [ngValue]="category._id">
                            {{category.category}}
                        </option>
                    </select>
                </div>
    
                <div class="bg-purple-400 w-10/12 rounded-tr-lg rounded-bl-lg shadow my-2 flex flex-col justify-start items-center">
                    <p class="text-lg font-bold w-full text-left px-2">
                        Submit an Entry
                    </p>
                    <input type="text" name="entry" [(ngModel)]="entry" class="w-full rounded-lg px-2 py-1 text-black" placeholder="entry">
                </div>
    
                <button (click)="addEntry()" class="bg-purple-400 p-3 text-lg text-center rounded-lg">
                    Submit
                </button>
            </div>
        </div>


    </div>
    <footer class="bg-purple-500 p-3 w-full flex flex-row justify-between">
        <p class="text-sm">Developed by <span class="font-bold">Xavier La Rosa</span></p>
    </footer>
</div>